<html>
<head>
<title>demo</title>
<style>body { margin: 0; }</style>
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
</head>
<body>

<div></div>
<!-- Preloader -->
<div id="preload" style="
position: fixed;
width: 100%;
height: 100vh;
background: #000;
z-index: 9;
display: flex;
align-items: center;
justify-content: center;
transition: all 2s;
">
<div id="preload-count" style="font-family: 'Coda', cursive;color: rgba(255,255,255,1);font-size: 100px;z-index: 9999">0%</div>
</div>
<!-- / Preloader -->
<!-- Initializing -->
<div id="initializing" style="
position: absolute;
left: 50%;
top: 50%;
color: #fff;
box-sizing: border-box;
display: block;
width: 150px;
text-align: center;
margin-left: -75px;
font-family: 'Coda', cursive;
font-size: 14px;
border: 3px solid #000;
padding: 10px 20px;
background: #fff;
border-radius: 5px;
">

Initializing...
</div>

</div>
<!-- / Initializing -->
<script src="https://code.createjs.com/preloadjs-0.6.2.min.js"></script>
<script src="./client.bundle.js"></script>

<script
src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
integrity="sha256-k2WSCIexGzOj3Euiig+TlR8gA0EmPjuc79OEeY5L45g="
crossorigin="anonymous"></script>
<script>
// $('body').on("click",()=>{
//   document.getElementsByTagName('canvas')[0].remove()
//   $('body').off("click")

// })

// Redirect if No Support
if (navigator.appName == 'Microsoft Internet Explorer' ||  !!(navigator.userAgent.match(/Trident/) || navigator.userAgent.match(/rv:11/)))
{
  window.location = 'no-support.html';
}

/* Preload */
var queue = new createjs.LoadQueue();

var preloadElem = document.getElementById('preload');
var preloadProgressElem = document.getElementById('preload-count');

queue.on('complete', onComplete);
queue.on('progress', onProgress);
queue.loadManifest([
{
  "id": 1,
  "src": "static_assets/maze.jpg"
},
{
  "id": 2,
  "src": "static_assets/room.jpg"
},
{
  "id": 3,
  "src": "client.bundle.js"
},
{
  "id": 4,
  "src": "index.html"
},
{
  "id": 5,
  "src": "index.php"
},

{
  "id": 8,
  "src": "composer.json"
}])
function onProgress(event) {
  var progress = Math.round(event.loaded * 100);
  preloadProgressElem.firstChild.nodeValue = progress + '%';
}

function onComplete(event) {
  setTimeout(function(){
    preloadProgressElem.remove()
    $('#initializing').attr('style',"position: absolute; left: 50%; top: 50%; color: black; box-sizing: border-box; display: block; width: 150px; z-index: 9; text-align: center; margin-left: -75px; font-family: 'Coda', cursive; font-size: 14px; border: 3px solid green; padding: 10px 20px; background: white; border-radius: 5px;")
    setTimeout(function(){
      $('#initializing').html("Enter")
      var initElem = document.getElementById('initializing');

      initElem.addEventListener("click",()=>{
        preloadElem.remove()

        initElem.remove();
      })
    }, 1000);
  }, 1000);
  // Initialize the React VR application
  ReactVR.init(
'index.bundle.js?platform=vr&dev=false',
    document.body,
    {
      cursorVisibility: 'visible',
    },

    );
}


</script>

</body>
</html>

